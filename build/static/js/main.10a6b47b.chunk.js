(this.webpackJsonpheatmap=this.webpackJsonpheatmap||[]).push([[0],{70:function(e,a,t){},71:function(e,a,t){},73:function(e,a,t){},81:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(27),r=t.n(c),u=(t(70),t(71),t(31)),i=t.n(u),s=t(36),d=t(38),o=t(8),j=t(53),b=t.n(j),x=t(120),m=t.p+"static/media/hrt2022.929f43ec.jpg",h=t(121),f=t(123),v=t(116),O=function(e,a,t){var n,l=p(e,a);switch(t){case 1:return{data:(n=g(l,1)).data,maxSlider:n.data.length,maxValue:n.maxValue};case 30:return{data:(n=g(l,30)).data,maxSlider:n.data.length,maxValue:n.maxValue};case 60:return{data:(n=g(l,60)).data,maxSlider:n.data.length,maxValue:n.maxValue};case 180:return{data:(n=g(l,180)).data,maxSlider:n.data.length,maxValue:n.maxValue};case"day":return{data:(n=g(l,661)).data,maxSlider:n.data.length,maxValue:n.maxValue};default:case"all":return{data:(n=g(l,8320)).data,maxSlider:n.data.length,maxValue:n.maxValue}}},p=function(e,a){var t=e;return"all"!==a&&(t=e.filter((function(e){return a===new Date(e[0].timestamp).getDate()}))),t},g=function(e,a){for(var t=[],n=[],l=0,c=function(c){for(var r=function(a){var t=n.find((function(t){return t.name===e[c][a].name}));t?t.value+=e[c][a].value:n.push(e[c][a]),e[c][a].value>l&&(l=t?t.value:e[c][a].value)},u=0;u<e[c].length;u++)r(u);!c||c%a!==0&&c!==e.length-1||(t.push(n),n=[])},r=0;r<e.length;r++)c(r);return{data:t,maxValue:l}},y=function(){var e=Object(d.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://heatmap-52cff.web.app/","hrt2022.json"));case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=[14,15,16],S="March",w=[{value:V[0],label:"".concat(V[0],"th ").concat(S)},{value:V[1],label:"".concat(V[1],"th ").concat(S)},{value:V[2],label:"".concat(V[2],"th ").concat(S)},{value:"all",label:"All Event"}],D=(t(73),t(124)),k=t(122),C=t(2);function L(e){var a=e.value,t=e.setValue,n=e.options;return Object(C.jsx)(k.a,{value:a,exclusive:!0,unselectable:!0,onChange:function(e,a){a&&t(a)},"aria-label":"text alignment",style:{background:"white"},color:"primary",children:n.map((function(e,a){return Object(C.jsx)(D.a,{value:e.value,"aria-label":"left aligned",children:e.label},"".concat(a,"-toggleButton"))}))})}var A=t(117),T=t(55),B=t.n(T)()((function(e){return{granularity:1,setGranularity:function(a){return e((function(e){return Object(s.a)(Object(s.a)({},e),{},{granularity:a})}))}}})),E=t(113),F=t(118);function H(e){var a=e.children,t=e.value,n=B((function(e){return e.granularity})),l=new Date("2022-03-14 05:59:00"),c=t;t>720&&(c=t-720),t>1440&&(c=t-1440);var r=Object(E.a)(l,"string"===typeof n||n instanceof String?1*c:c*n);return console.log("\ud83d\ude80 ~ file: Tooltip.js ~ line 11 ~ ValueLabelComponent ~ value",c),console.log("\ud83d\ude80 ~ file: Tooltip.js ~ line 33 ~ ValueLabelComponent ~ currentDatePlusTime",r),Object(C.jsx)(A.a,{enterTouchDelay:0,placement:"top",title:Object(F.a)(r,"HH:mm"),children:a})}function M(){var e=Object(n.useState)({14:{1:[],30:[],60:[],180:[],day:[]},15:{1:[],30:[],60:[],180:[],day:[]},16:{1:[],30:[],60:[],180:[],day:[]},all:{1:[],30:[],60:[],180:[],day:[],all:[]}}),a=Object(o.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(),r=Object(o.a)(c,2),u=r[0],j=r[1],p=Object(n.useState)({data:[],maxSlider:0,maxValue:0}),g=Object(o.a)(p,2),V=g[0],S=g[1],D=Object(n.useState)([]),k=Object(o.a)(D,2),A=k[0],T=k[1],E=Object(n.useState)(0),F=Object(o.a)(E,2),M=F[0],P=F[1],G=Object(n.useState)(100),N=Object(o.a)(G,1)[0],I=Object(f.a)(!1),J=Object(o.a)(I,2),q=J[0],z=J[1],K=B((function(e){return e.granularity})),Q=B((function(e){return e.setGranularity})),R=Object(n.useState)(14),U=Object(o.a)(R,2),W=U[0],X=U[1];Object(v.a)((function(){V.maxSlider>M?(P(M+1),T(V.data[M])):z(!1)}),q?N:null);var Y=Object(n.useCallback)(Object(d.a)(i.a.mark((function e(){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t[W][K].maxSlider){e.next=4;break}S(t[W][K]),e.next=10;break;case 4:return e.next=6,y();case 6:n=e.sent,a=O(n,W,K),l((function(e){var t=Object(s.a)({},e);return t[W][K]=a,t})),S(a);case 10:case"end":return e.stop()}}),e)}))),[W,K]);Object(n.useEffect)((function(){Y()}),[W,K,Y]),Object(n.useEffect)((function(){var e;if(0===(null===V||void 0===V||null===(e=V.data)||void 0===e?void 0:e.length)&&Y(),0===V.maxSlider&&!u){var a=b.a.create({container:document.querySelector(".heatmap"),minOpacity:".4",gradient:{".01":"blue",".25":"cyan",".5":"yellow",".75":"orange",1:"red"}});j(a)}if(V.maxSlider>0&&u){var t={max:V.maxValue,min:0,data:V.data[M]};u&&u.setData(t)}}),[u,Y]);return Object(n.useEffect)((function(){var e={max:V.maxValue,min:0,data:A};u&&A.length>0&&u.setData(e)}),[u,V,A]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{style:{width:"600px",paddingBottom:"1rem",textAlign:"left",fontSize:"1.5rem"},children:Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{style:{paddingBottom:"1rem"},children:[Object(C.jsx)("div",{children:Object(C.jsx)("span",{children:"Granularity"})}),Object(C.jsx)(L,{value:K,setValue:function(e){P(0),Q(e)},options:[{value:1,label:"1 Minute"},{value:30,label:"30 Minutes"},{value:60,label:"1 Hour"},{value:180,label:"3 Hours"},{value:"day",label:"Day"}]})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{children:Object(C.jsx)("span",{children:"Date"})}),Object(C.jsx)("div",{children:Object(C.jsx)(L,{value:W,setValue:function(e){P(0),X(e),"all"!==e&&Q(1)},options:w})})]})]})}),Object(C.jsxs)("div",{style:{display:"flex"},children:[Object(C.jsx)("div",{id:"mydiv",className:"heatmap",style:{display:"block"},children:Object(C.jsx)("img",{height:"522px",width:"1068px",src:m,alt:"road"})}),Object(C.jsxs)("div",{style:{textAlign:"left",paddingLeft:"2rem"},children:[Object(C.jsxs)("div",{children:["blue: 0 - ",.01*V.maxValue]}),Object(C.jsxs)("div",{children:["cyan: ",.01*V.maxValue," - ",.25*V.maxValue]}),Object(C.jsxs)("div",{children:["yellow: ",.25*V.maxValue," - ",.5*V.maxValue]}),Object(C.jsxs)("div",{children:["orange: ",.5*V.maxValue," - ",.75*V.maxValue]}),Object(C.jsxs)("div",{children:["red: ",.75*V.maxValue," - ",V.maxValue]}),V.maxSlider>1&&Object(C.jsx)(h.a,{variant:"outlined",style:{background:"white"},onClick:z,children:q?"Cancel":"Auto Play"})]})]}),Object(C.jsx)("div",{style:{width:"600px"},children:V.maxSlider>1&&Object(C.jsx)(x.a,{max:V.maxSlider-1||0,defaultValue:0,"aria-label":"Default",valueLabelDisplay:"auto",onChange:function(e,a){q&&z(!1),T(V.data[a]),P(a)},value:M,components:{ValueLabel:H}})})]})}var P=function(){return Object(C.jsx)("div",{className:"App",children:Object(C.jsx)("header",{className:"App-header",children:Object(C.jsx)(M,{})})})},G=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,125)).then((function(a){var t=a.getCLS,n=a.getFID,l=a.getFCP,c=a.getLCP,r=a.getTTFB;t(e),n(e),l(e),c(e),r(e)}))};r.a.render(Object(C.jsx)(l.a.StrictMode,{children:Object(C.jsx)(P,{})}),document.getElementById("root")),G()}},[[81,1,2]]]);
//# sourceMappingURL=main.10a6b47b.chunk.js.map