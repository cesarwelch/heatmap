{"version":3,"sources":["assets/hrt2022.jpg","util/dataTransformer.js","Component/ToggleFilter.js","Component/store.js","Component/Tooltip.js","Component/Heatmap.js","App.js","reportWebVitals.js","index.js"],"names":["dataTransformer","allData","day","granularity","returnData","dataOfDay","getDayXData","data","getGranularityXData","maxSlider","length","maxValue","filter","row","Date","timestamp","getDate","returnValue","dataSet","i","j","founded","find","point","name","value","push","getItcData","a","fetch","process","r","json","eventDays","eventMonth","daysFiltersOptions","label","ToggleFilter","props","setValue","options","ToggleButtonGroup","exclusive","unselectable","onChange","event","newValue","aria-label","style","background","color","map","option","index","ToggleButton","useStore","create","set","setGranularity","state","ValueLabelComponent","children","currentDate","currentDatePlusTime","addMinutes","String","console","log","Tooltip","enterTouchDelay","placement","title","format","Heatmap","useState","14","1","30","60","180","15","16","all","transformedSourceData","setTransformedSourceData","heatMapInstance","setHeatMapInstance","mainData","setMainData","pointsInfo","setPointsInfo","sliderCount","setSliderCount","delay","useBoolean","isRunning","toggleIsRunning","date","setDate","useInterval","getData","useCallback","transformedData","prev","temp","useEffect","instance","h337","container","document","querySelector","minOpacity","gradient","max","min","setData","width","paddingBottom","textAlign","fontSize","display","id","className","height","src","Image","alt","paddingLeft","Button","variant","onClick","Slider","defaultValue","valueLabelDisplay","e","components","ValueLabel","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.10a6b47b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/hrt2022.929f43ec.jpg\";","export const dataTransformer = (allData, day, granularity) => {\n  const dataOfDay = getDayXData(allData, day);\n\n  let returnData;\n  switch (granularity) {\n    case 1:\n      returnData = getGranularityXData(dataOfDay, 1);\n      return {\n        data: returnData.data,\n        maxSlider: returnData.data.length,\n        maxValue: returnData.maxValue,\n      };\n    case 30:\n      returnData = getGranularityXData(dataOfDay, 30);\n      return {\n        data: returnData.data,\n        maxSlider: returnData.data.length,\n        maxValue: returnData.maxValue,\n      };\n    case 60:\n      returnData = getGranularityXData(dataOfDay, 60);\n      return {\n        data: returnData.data,\n        maxSlider: returnData.data.length,\n        maxValue: returnData.maxValue,\n      };\n    case 180:\n      returnData = getGranularityXData(dataOfDay, 180);\n      return {\n        data: returnData.data,\n        maxSlider: returnData.data.length,\n        maxValue: returnData.maxValue,\n      };\n    case \"day\":\n      returnData = getGranularityXData(dataOfDay, 661);\n      return {\n        data: returnData.data,\n        maxSlider: returnData.data.length,\n        maxValue: returnData.maxValue,\n      };\n    default:\n    case \"all\":\n      returnData = getGranularityXData(dataOfDay, 8320);\n      return {\n        data: returnData.data,\n        maxSlider: returnData.data.length,\n        maxValue: returnData.maxValue,\n      };\n  }\n};\n\nconst getDayXData = (allData, day) => {\n  let returnData = allData;\n  if (day !== \"all\") {\n    returnData = allData.filter((row) => {\n      return day === new Date(row[0].timestamp).getDate();\n    });\n  }\n  return returnData;\n};\n\nconst getGranularityXData = (dataOfDay, granularity) => {\n  const returnValue = [];\n  let dataSet = [];\n  let maxValue = 0;\n  for (let i = 0; i < dataOfDay.length; i++) {\n    for (let j = 0; j < dataOfDay[i].length; j++) {\n      const founded = dataSet.find(\n        (point) => point.name === dataOfDay[i][j].name\n      );\n      if (founded) {\n        founded.value += dataOfDay[i][j].value;\n      } else {\n        dataSet.push(dataOfDay[i][j]);\n      }\n      if (dataOfDay[i][j].value > maxValue) {\n        if (founded) {\n          maxValue = founded.value;\n        } else {\n          maxValue = dataOfDay[i][j].value;\n        }\n      }\n    }\n    if (i && (i % granularity === 0 || i === dataOfDay.length - 1)) {\n      returnValue.push(dataSet);\n      dataSet = [];\n    }\n  }\n  return { data: returnValue, maxValue };\n};\n\nexport const getItcData = async () => {\n  const r = await fetch(\n    `${\n      process.env.REACT_APP_HOST_URL || \"https://heatmap-52cff.web.app/\"\n    }hrt2022.json`\n  );\n  return await r.json();\n};\n\nexport const granularityFiltersOptions = (daysFilterOption) => {\n  const retVal = [\n    { value: 1, label: \"1 Minute\" },\n    { value: 30, label: \"30 Minutes\" },\n    { value: 60, label: \"1 Hour\" },\n    { value: 180, label: \"3 Hours\" },\n    { value: \"day\", label: \"Day\" },\n  ];\n  if (daysFilterOption === \"all\") {\n    // retVal.push({ value: \"all\", label: \"All Event\" });\n  }\n  return retVal;\n};\n\nexport const eventDays = [14, 15, 16];\nexport const eventMonth = \"March\";\n\nexport const daysFiltersOptions = [\n  { value: eventDays[0], label: `${eventDays[0]}th ${eventMonth}` },\n  { value: eventDays[1], label: `${eventDays[1]}th ${eventMonth}` },\n  { value: eventDays[2], label: `${eventDays[2]}th ${eventMonth}` },\n  { value: \"all\", label: \"All Event\" },\n];\n","import React from \"react\";\n\nimport ToggleButton from \"@mui/material/ToggleButton\";\nimport ToggleButtonGroup from \"@mui/material/ToggleButtonGroup\";\n\nexport default function ToggleFilter(props) {\n  const { value, setValue, options } = props;\n\n  const handleChange = (event, newValue) => {\n    if (newValue) setValue(newValue);\n  };\n\n  return (\n    <ToggleButtonGroup\n      value={value}\n      exclusive\n      unselectable\n      onChange={handleChange}\n      aria-label=\"text alignment\"\n      style={{ background: \"white\" }}\n      color=\"primary\"\n    >\n      {options.map((option, index) => (\n        <ToggleButton\n          key={`${index}-toggleButton`}\n          //   style={{ whiteSpace: \"nowrap\" }}\n          value={option.value}\n          aria-label=\"left aligned\"\n        >\n          {option.label}\n        </ToggleButton>\n      ))}\n    </ToggleButtonGroup>\n  );\n}\n","import create from \"zustand\";\n\nconst useStore = create((set) => ({\n  granularity: 1,\n  setGranularity: (granularity) =>\n    set((state) => ({ ...state, granularity: granularity })),\n}));\n\nexport default useStore;\n","import React from \"react\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport useStore from \"./store\";\nimport { addMinutes, format } from \"date-fns\";\n\nexport default function ValueLabelComponent(props) {\n  const { children, value } = props;\n  const granularity = useStore((state) => state.granularity);\n  const currentDate = new Date(\"2022-03-14 05:59:00\");\n  let newValue = value;\n  if (value > 720) {\n    newValue = value - 720;\n  }\n  if (value > 1440) {\n    newValue = value - 1440;\n  }\n  const currentDatePlusTime = addMinutes(\n    currentDate,\n    typeof granularity === \"string\" || granularity instanceof String\n      ? newValue * 1\n      : newValue * granularity\n  );\n  console.log(\n    \"ðŸš€ ~ file: Tooltip.js ~ line 11 ~ ValueLabelComponent ~ value\",\n    newValue\n  );\n\n  console.log(\n    \"ðŸš€ ~ file: Tooltip.js ~ line 33 ~ ValueLabelComponent ~ currentDatePlusTime\",\n    currentDatePlusTime\n  );\n  return (\n    <Tooltip\n      enterTouchDelay={0}\n      placement=\"top\"\n      title={format(currentDatePlusTime, \"HH:mm\")}\n    >\n      {children}\n    </Tooltip>\n  );\n}\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport h337 from \"heatmapjs\";\nimport Slider from \"@mui/material/Slider\";\nimport Image from \"../assets/hrt2022.jpg\";\n// import { x as ogData } from \"../assets/heatmapdata\";\nimport Button from \"@mui/material/Button\";\nimport { useInterval, useBoolean } from \"react-use\";\nimport {\n  getItcData,\n  dataTransformer,\n  granularityFiltersOptions,\n  daysFiltersOptions,\n} from \"../util/dataTransformer\";\nimport \"./styles.css\";\nimport ToggleFilter from \"./ToggleFilter\";\nimport Tooltip from \"./Tooltip\";\nimport useStore from \"./store\";\n\nexport default function Heatmap() {\n  const [transformedSourceData, setTransformedSourceData] = useState({\n    14: { 1: [], 30: [], 60: [], 180: [], day: [] },\n    15: { 1: [], 30: [], 60: [], 180: [], day: [] },\n    16: { 1: [], 30: [], 60: [], 180: [], day: [] },\n    all: { 1: [], 30: [], 60: [], 180: [], day: [], all: [] },\n  });\n  const [heatMapInstance, setHeatMapInstance] = useState();\n  const [mainData, setMainData] = useState({\n    data: [],\n    maxSlider: 0,\n    maxValue: 0,\n  });\n  const [pointsInfo, setPointsInfo] = useState([]);\n  const [sliderCount, setSliderCount] = useState(0);\n  const [delay] = useState(100);\n  const [isRunning, toggleIsRunning] = useBoolean(false);\n  const granularity = useStore((state) => state.granularity);\n  const setGranularity = useStore((state) => state.setGranularity);\n\n  const [date, setDate] = useState(14);\n\n  useInterval(\n    () => {\n      if (mainData.maxSlider > sliderCount) {\n        setSliderCount(sliderCount + 1);\n        setPointsInfo(mainData.data[sliderCount]);\n      } else {\n        toggleIsRunning(false);\n      }\n    },\n    isRunning ? delay : null\n  );\n\n  const getData = useCallback(async () => {\n    if (transformedSourceData[date][granularity].maxSlider) {\n      setMainData(transformedSourceData[date][granularity]);\n    } else {\n      let transformedData;\n      const returnData = await getItcData();\n      transformedData = dataTransformer(returnData, date, granularity);\n      setTransformedSourceData((prev) => {\n        const temp = { ...prev };\n        temp[date][granularity] = transformedData;\n        return temp;\n      });\n      setMainData(transformedData);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [date, granularity]);\n\n  useEffect(() => {\n    getData();\n  }, [date, granularity, getData]);\n\n  useEffect(() => {\n    if (mainData?.data?.length === 0) {\n      getData();\n    }\n    if (mainData.maxSlider === 0 && !heatMapInstance) {\n      const instance = h337.create({\n        container: document.querySelector(\".heatmap\"),\n        minOpacity: \".4\",\n        gradient: {\n          \".01\": \"blue\",\n          \".25\": \"cyan\",\n          \".5\": \"yellow\",\n          \".75\": \"orange\",\n          1: \"red\",\n        },\n      });\n      setHeatMapInstance(instance);\n    }\n\n    if (mainData.maxSlider > 0 && heatMapInstance) {\n      let dataSet = {\n        max: mainData.maxValue,\n        min: 0,\n        data: mainData.data[sliderCount],\n      };\n      heatMapInstance && heatMapInstance.setData(dataSet);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [heatMapInstance, getData]);\n\n  const handleHeatmap = (e, value) => {\n    if (isRunning) {\n      toggleIsRunning(false);\n    }\n\n    setPointsInfo(mainData.data[value]);\n    setSliderCount(value);\n  };\n\n  useEffect(() => {\n    let dataSet = {\n      max: mainData.maxValue,\n      min: 0,\n      data: pointsInfo,\n    };\n\n    heatMapInstance &&\n      pointsInfo.length > 0 &&\n      heatMapInstance.setData(dataSet);\n  }, [heatMapInstance, mainData, pointsInfo]);\n\n  return (\n    <>\n      <div\n        style={{\n          width: \"600px\",\n          paddingBottom: \"1rem\",\n          textAlign: \"left\",\n          fontSize: \"1.5rem\",\n        }}\n      >\n        <div>\n          <div\n            style={{\n              paddingBottom: \"1rem\",\n            }}\n          >\n            <div>\n              <span>Granularity</span>\n            </div>\n            <ToggleFilter\n              value={granularity}\n              setValue={(newValue) => {\n                setSliderCount(0);\n                setGranularity(newValue);\n              }}\n              options={granularityFiltersOptions(date)}\n            />\n          </div>\n\n          <div>\n            <div>\n              <span>Date</span>\n            </div>\n            <div>\n              <ToggleFilter\n                value={date}\n                setValue={(newValue) => {\n                  setSliderCount(0);\n                  setDate(newValue);\n\n                  if (newValue !== \"all\") {\n                    setGranularity(1);\n                  }\n                }}\n                options={daysFiltersOptions}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div style={{ display: \"flex\" }}>\n        <div id=\"mydiv\" className=\"heatmap\" style={{ display: \"block\" }}>\n          <img height=\"522px\" width=\"1068px\" src={Image} alt=\"road\" />\n        </div>\n        <div style={{ textAlign: \"left\", paddingLeft: \"2rem\" }}>\n          <div>blue: 0 - {mainData.maxValue * 0.01}</div>\n          <div>\n            cyan: {mainData.maxValue * 0.01} - {mainData.maxValue * 0.25}\n          </div>\n          <div>\n            yellow: {mainData.maxValue * 0.25} - {mainData.maxValue * 0.5}\n          </div>\n          <div>\n            orange: {mainData.maxValue * 0.5} - {mainData.maxValue * 0.75}\n          </div>\n          <div>\n            red: {mainData.maxValue * 0.75} - {mainData.maxValue}\n          </div>\n          {mainData.maxSlider > 1 && (\n            <Button\n              variant=\"outlined\"\n              style={{ background: \"white\" }}\n              onClick={toggleIsRunning}\n            >\n              {isRunning ? \"Cancel\" : \"Auto Play\"}\n            </Button>\n          )}\n        </div>\n      </div>\n      <div style={{ width: \"600px\" }}>\n        {mainData.maxSlider > 1 && (\n          <Slider\n            max={mainData.maxSlider - 1 || 0}\n            defaultValue={0}\n            aria-label=\"Default\"\n            valueLabelDisplay=\"auto\"\n            onChange={handleHeatmap}\n            value={sliderCount}\n            components={{\n              ValueLabel: Tooltip,\n            }}\n          />\n        )}\n      </div>\n    </>\n  );\n}\n","import \"./App.css\";\nimport Heatmap from \"./Component/Heatmap\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <Heatmap />\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}